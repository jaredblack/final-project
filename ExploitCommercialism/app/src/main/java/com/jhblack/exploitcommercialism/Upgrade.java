package com.jhblack.exploitcommercialism;

import android.view.View;

/**
 * Created by Dhruv on 5/9/18.
 */

public abstract class Upgrade {
    private int level=0;
    private boolean visible=false;
    private double mult=1;
    private int maxLevel;
    private int icon;
    private View.OnClickListener onClickListener;

    public boolean isVisible() {
        return visible;
    }

    public void setMaxLevel(int x) {
        maxLevel=x;
    }

    public int getMaxLevel() {
        return maxLevel;
    }

    public String getDesc() {
        return desc;
    }

    public int getInitCost() {
        return initCost;
    }


    public int getIcon() {
        return icon;
    }

    public int getNextUpgradeCost() {
        int y=initCost;
        for(int i=0; i<level; i++) {
            y =(int) (y*1.5);
        }
        return y;
    }

    public int getLevel() {
        return level;
    }

    private String desc;
    private int initCost;

    public Upgrade(boolean visible, int maxLevel, int initCost, int icon, View.OnClickListener onClickListener) {
        this.visible = visible;
        this.maxLevel = maxLevel;
        this.initCost=initCost;
        this.icon = icon;
        this.onClickListener = onClickListener;
    }

    public void setVisible() {
        visible=true;
    }

    //x=money of the age
    public int levelUp(int x) {
        int y = initCost;
        for(int i=0; i<level; i++) {
            y =(int) (y*1.5);
        }
        if (x>=y && level<maxLevel) {
            level++;
            updateMult();
            updateDesc();
            return x - y;
        }
        return x;
    }

    public double getMult(){
        return mult;
    }

    public void addMult(double x) {
        mult+=x;
    }

    public void setDesc(String x) {
        desc=x;
    }

    public abstract void updateMaxLevel();

    public abstract void updateMult();

    public abstract void updateDesc();

    public View.OnClickListener getOnClickListener() {
        return onClickListener;
    }

}
